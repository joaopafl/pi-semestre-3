@{
    ViewData["Title"] = "Email de Verificação Enviado";
}

<style>
    :root {
        --cor-primaria: #4A90E2;
        --cor-secundaria: #66BB6A;
        --cor-info: #17a2b8;
        --cor-warning: #f39c12;
    }

    body {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        font-family: 'Poppins', sans-serif;
    }

    .container-compacto {
        max-width: 500px;
        margin: 2rem auto;
        padding: 0 1rem;
    }

    .card-compacto {
        border-radius: 15px;
        box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        border: none;
        overflow: hidden;
    }

    .card-body-compacto {
        padding: 1.5rem;
        text-align: center;
    }

    .icon-email {
        font-size: 3rem;
        color: var(--cor-info);
        margin-bottom: 0.75rem;
        animation: pulse 2s infinite;
    }

    .title-compacto {
        font-size: 1.4rem;
        font-weight: 600;
        color: var(--cor-info);
        margin-bottom: 0.5rem;
    }

    .message-compacto {
        font-size: 0.9rem;
        color: #6c757d;
        margin-bottom: 1rem;
        line-height: 1.4;
    }

    .alert-compacto {
        border-radius: 10px;
        padding: 0.75rem;
        margin-bottom: 0.75rem;
        font-size: 0.85rem;
        text-align: left;
    }

    .alert-warning-compacto {
        background: #fff8e1;
        border: 1px solid #ffecb3;
        color: #f57c00;
    }

    .alert-info-compacto {
        background: #e3f2fd;
        border: 1px solid #bbdefb;
        color: #1976d2;
    }

    .btn-compacto {
        padding: 0.5rem 1rem;
        font-size: 0.85rem;
        border-radius: 8px;
        margin-bottom: 0.5rem;
    }

    .steps-list {
        font-size: 0.8rem;
        margin: 0;
        padding-left: 1rem;
    }

    .contact-section {
        margin-top: 1rem;
        padding-top: 1rem;
        border-top: 1px solid #dee2e6;
        font-size: 0.8rem;
        color: #6c757d;
    }

    @@keyframes pulse {
        0%, 100%

    {
        transform: scale(1);
    }

    50% {
        transform: scale(1.05);
    }

    }

    @@media (max-width: 576px) {
        .container-compacto

    {
        margin: 1rem auto;
        max-width: 100%;
    }

    .card-body-compacto {
        padding: 1rem;
    }

    .icon-email {
        font-size: 2.5rem;
    }

    .title-compacto {
        font-size: 1.2rem;
    }

    }
</style>

<div class="container-compacto">
    <div class="card card-compacto">
        <div class="card-body card-body-compacto">
            <!-- Ícone de email -->
            <i class="fas fa-envelope-circle-check icon-email"></i>

            <!-- Título -->
            <h1 class="title-compacto">Email Enviado!</h1>

            <!-- Mensagem -->
            <p class="message-compacto">
                Cadastro realizado com sucesso! Verifique seu email para confirmar.
            </p>

            <!-- Instruções importantes -->
            <div class="alert-compacto alert-warning-compacto">
                <div class="d-flex align-items-center mb-1">
                    <i class="fas fa-exclamation-triangle me-2"></i>
                    <strong style="font-size: 0.85rem;">Importante:</strong>
                </div>
                <ul class="steps-list">
                    <li>Verifique sua caixa de entrada e spam</li>
                    <li>Clique no link para confirmar</li>
                    <li>Link expira em 24 horas</li>
                </ul>
            </div>

            <!-- Próximos passos -->
            <div class="alert-compacto alert-info-compacto">
                <div class="d-flex align-items-center mb-1">
                    <i class="fas fa-list-check me-2"></i>
                    <strong style="font-size: 0.85rem;">Próximos passos:</strong>
                </div>
                <ol class="steps-list">
                    <li>Abra seu email</li>
                    <li>Clique em "Confirmar Email"</li>
                    <li>Aguarde nosso contato em até 24h</li>
                </ol>
            </div>

            <!-- Botões de ação -->
            <div class="d-grid gap-1">
                <a href="mailto:" class="btn btn-primary btn-compacto" onclick="abrirEmail()">
                    <i class="fas fa-envelope-open me-2"></i> Abrir Email
                </a>
                <button type="button" class="btn btn-outline-secondary btn-compacto" onclick="reenviarEmail()">
                    <i class="fas fa-paper-plane me-2"></i> Reenviar
                </button>
                <a href="/" class="btn btn-outline-info btn-compacto">
                    <i class="fas fa-home me-2"></i> Voltar ao Início
                </a>
            </div>

            <!-- Seção de contato -->
            <div class="contact-section">
                <strong>Não recebeu?</strong><br>
                Verifique o spam ou entre em contato: <strong>(11) 99999-9999</strong>
            </div>
        </div>
    </div>
</div>

<script>
    function abrirEmail() {
        if (navigator.userAgent.includes('Mobile')) {
            window.location.href = 'mailto:';
        } else {
            window.open('mailto:', '_blank');
        }
    }

    function reenviarEmail() {
        if (confirm('Deseja reenviar o email de verificação?')) {
            fetch('/Responsavel/ReenviarEmail', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    alert('Email reenviado com sucesso!');
                } else {
                    alert('Erro ao reenviar email. Tente novamente.');
                }
            })
            .catch(error => {
                alert('Erro ao reenviar email. Tente novamente.');
            });
        }
    }

    // Auto-refresh simplificado
    let refreshCount = 0;
    setInterval(() => {
        refreshCount++;
        if (refreshCount <= 20) {
            console.log('Verificando status do email...');
        }
    }, 30000);
</script>